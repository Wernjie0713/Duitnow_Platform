import{j as e,r as c,a as M}from"./app-D5YLK8iz.js";import{T as p,a as g,b as d,c as s,d as u,e as o}from"./table-Y958_YmK.js";import{B as I}from"./button-DVak6O-M.js";import"./utils-BM_CldAA.js";import"./index-BQUBv2-2.js";function O({users:m,current_user:a,isAdmin:i,selectedNumber:x,links:l,selectedTime:r,monthlyAll:v}){if(!m||m.length===0)return e.jsx("div",{className:"rounded-lg overflow-hidden shadow-lg border border-gray-200",children:e.jsxs(p,{children:[e.jsx(g,{children:e.jsxs(d,{className:"bg-black hover:bg-black",children:[e.jsx(s,{className:"w-[30%] font-semibold text-white",children:"No."}),e.jsx(s,{className:"w-[30%] font-semibold text-white",children:"Name"}),e.jsx(s,{className:"w-[25%] font-semibold text-white",children:"Transaction Count"})]})}),e.jsxs(u,{children:[e.jsx(d,{}),e.jsx(o,{children:"No users found."})]})]})});const[b,f]=c.useState("total_count"),[y,j]=c.useState(""),[N,w]=c.useState("");c.useEffect(()=>{const t=new Date().toLocaleString("en-US",{month:"short"}),n=(()=>{switch(t){case"Nov":return"nov_count";case"Dec":return"dec_count";default:return"total_count"}})(),h=(()=>{switch(t){case"Nov":return"November 1st, 2024 (12:00 a.m) - November 30th, 2024 (11:59 p.m)";case"Dec":return"December 1st, 2024 (12:00 a.m) - December 31th, 2024 (11:59 p.m)";default:return"September 1st, 2024 (12:00 a.m) - September 30th, 2024 (11:59 p.m)"}})(),C=(()=>{switch(t){case"Nov":return"November Top 10";case"Dec":return"December Top 10";default:return"September Top 10"}})();f(n),j(h),w(C)},[]),c.useEffect(()=>{if(r!==0){const t=(()=>{switch(r){case 11:return"nov_count";case 12:return"dec_count";default:return"oct_count"}})(),n=(()=>{switch(r){case 11:return"November 1st, 2024 (12:00 a.m) - November 30th, 2024 (11:59 p.m)";case 12:return"December 1st, 2024 (12:00 a.m) - December 31th, 2024 (11:59 p.m)";default:return"October 6th, 2024 (12:00 a.m) - October 31th, 2024 (11:59 p.m)"}})(),h=(()=>{switch(r){case 11:return"November Top 10";case 12:return"December Top 10";default:return"October Top 10"}})();f(t),j(n),w(h)}},[r]);const k=v.findIndex(t=>t.id===a.id)+1,[$,D]=c.useState(1);c.useEffect(()=>{if(l&&l.length>0){const t=l.find(n=>n.active);t&&D(parseInt(t.label))}},[l]);const T=($-1)*10,S=(()=>{switch(r){case 11:return"nov";case 12:return"dec"}})(),E=()=>{window.location.href=route("export.monthly-leaderboard",{month:S})};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"relative flex flex-col sm:flex-row items-center justify-between pt-4 pb-2",children:[e.jsx("div",{className:"sm:w-1/4 mb-4 sm:mb-0"}),e.jsx("h1",{className:"text-xl sm:text-2xl font-bold text-gray-800 text-center whitespace-nowrap",children:x!==10?`${N}0`:N}),!i&&e.jsx("div",{className:"sm:w-1/4 mb-4 sm:mb-0"}),i&&e.jsx("div",{className:"sm:w-1/4 flex justify-end mt-4 sm:mt-0",children:e.jsx(I,{onClick:E,children:"Export to Excel"})})]}),e.jsx("div",{className:"text-center pb-4",children:e.jsx("p",{className:"text-gray-600",children:e.jsx("span",{className:"font-medium",children:y})})}),e.jsx("div",{className:"rounded-lg overflow-hidden shadow-lg border border-gray-200",children:e.jsxs(p,{children:[e.jsx(g,{children:e.jsxs(d,{className:"bg-black hover:bg-black",children:[e.jsx(s,{className:"w-[5%] text-center font-semibold text-white",children:"No."}),e.jsx(s,{className:"w-[30%] font-semibold text-white",children:"Name"}),i&&e.jsxs(e.Fragment,{children:[e.jsx(s,{className:"w-[20%] font-semibold text-white",children:"Email"}),e.jsx(s,{className:"w-[10%] font-semibold text-white",children:"Matric No."}),e.jsx(s,{className:"w-[15%] font-semibold text-white",children:"DuitNow ID"}),e.jsx(s,{className:"w-[15%] font-semibold text-white",children:"Phone No."}),e.jsx(s,{className:"w-[10%] font-semibold text-white",children:"Faculty"}),e.jsx(s,{className:"w-[10%] font-semibold text-white",children:"Campus"})]}),e.jsx(s,{className:"w-[10%] text-center font-semibold text-white",children:"Transaction Count"})]})}),e.jsxs(u,{children:[m.slice(0,10).map((t,n)=>e.jsxs(d,{className:`hover:bg-gray-100 transition-colors duration-200 ${t.id===a.id?"bg-gray-200":""}`,children:[e.jsxs(o,{className:`text-center font-normal ${t.id===a.id?"text-black font-black":""}`,children:[T+n+1,"."]}),e.jsx(o,{className:`font-normal ${t.id===a.id?"text-black font-black":""}`,children:t.name}),i&&e.jsxs(e.Fragment,{children:[e.jsx(o,{className:`font-normal ${t.id===a.id?"text-black font-black":""}`,children:t.email}),e.jsx(o,{className:`font-normal ${t.id===a.id?"text-black font-black":""}`,children:t.matric_no}),e.jsx(o,{className:`font-normal ${t.id===a.id?"text-black font-black":""}`,children:t.duitnow_id}),e.jsx(o,{className:`font-normal ${t.id===a.id?"text-black font-black":""}`,children:t.phone_no}),e.jsx(o,{className:`font-normal ${t.id===a.id?"text-black font-black":""}`,children:t.faculty}),e.jsx(o,{className:`font-normal ${t.id===a.id?"text-black font-black":""}`,children:t.campus})]}),e.jsx(o,{className:`font-normal text-center ${t.id===a.id?"text-black font-black":""}`,children:t[b]})]},t.id)),!i&&!m.slice(0,10).some(t=>t.id===a.id)&&e.jsxs(d,{className:"hover:bg-gray-100 transition-colors duration-200 bg-gray-200",children:[e.jsxs(o,{className:"text-center font-normal text-black font-black",children:[k,"."]}),e.jsx(o,{className:"font-normal text-black font-black",children:a.name}),e.jsx(o,{className:"font-normal text-center text-black font-black",children:a[b]})]},a.id)]})]})}),x!==10&&l&&l.length>0&&e.jsx("div",{className:"flex justify-center mt-6",children:e.jsx("nav",{"aria-label":"Page navigation",children:e.jsx("ul",{className:"inline-flex rounded-md shadow-sm",children:l.map((t,n)=>e.jsx("li",{children:e.jsx(M,{href:t.url,className:`px-2 py-1 sm:px-4 sm:py-2 text-xs sm:text-sm font-medium border ${n===0?"rounded-l-md":""} ${n===l.length-1?"rounded-r-md":""} ${t.active?"bg-black text-white border-gray-500 hover:bg-black hover:text-white":"bg-white text-gray-700 border-gray-300 hover:bg-gray-200"} ${t.url?"hover:text-gray-700":"opacity-50 cursor-not-allowed"}`,dangerouslySetInnerHTML:{__html:t.label}})},n))})})})]})}export{O as default};
